"use strict";(self["webpackChunkmusicapp"]=self["webpackChunkmusicapp"]||[]).push([[234],{6056:function(s,t,e){e.d(t,{Z:function(){return v}});var a=e(1046),l=(e(6186),e(6898)),n=(e(6870),e(9850)),i=(e(5124),e(6252)),c=e(3577);const u=s=>((0,i.dD)("data-v-6dcfb55b"),s=s(),(0,i.Cn)(),s),o={class:"itemList"},r={class:"leftSpan"},m={class:"songInfo"},p=u((()=>(0,i._)("div",{style:{height:"1.4rem"}},null,-1)));function d(s,t,e,u,d,f){const w=n.J,y=l.J,_=a.X;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList,((s,t)=>((0,i.wg)(),(0,i.j4)(_,{class:"item",align:"center",justify:"space-between",key:t},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{span:"16",class:"itemLeft",onClick:s=>f.playMusic(t)},{default:(0,i.w5)((()=>[(0,i._)("span",r,(0,c.zw)(t+1),1),(0,i._)("div",m,[(0,i._)("p",null,(0,c.zw)(s.name),1),(0,i._)("span",null,(0,c.zw)(u.showAuthor(s.ar)),1)])])),_:2},1032,["onClick"]),(0,i.Wm)(w,{span:"6",class:"itemRight"},{default:(0,i.w5)((()=>[0!=s.mv?((0,i.wg)(),(0,i.j4)(y,{key:0,name:"tv-o",class:"tv",size:"30",onClick:t=>u.mvClick(s.mv)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(y,{name:"wap-nav",class:"nav",size:"30"})])),_:2},1024)])),_:2},1024)))),128))]),p],64)}var f=e(2262),w=e(3907),y={name:"musicPlaylist",props:["itemList"],setup(){function s(s){const t=(0,f.qj)([]);for(let a=0;a<s.length;a++)t.push(s[a].name);let e=t.join(" / ");return e}function t(s){try{location.assign("https://music.163.com/#/mv?id="+s)}catch{console.log("MV打开失败")}}return{showAuthor:s,mvClick:t}},methods:{playMusic(s){console.log(s),this.updatePlaylist(this.itemList),this.updatePlaylistIndex(s)},...(0,w.OI)(["updatePlaylist","updatePlaylistIndex"])}},_=e(3744);const g=(0,_.Z)(y,[["render",d],["__scopeId","data-v-6dcfb55b"]]);var v=g},4253:function(s,t,e){e.r(t),e.d(t,{default:function(){return T}});var a=e(6056),l=e(1046),n=(e(6186),e(9850)),i=(e(5124),e(6898)),c=(e(6870),e(6252)),u=e(3577);const o={class:"itemMusicList"},r={class:"playAllSongs"},m=(0,c.Uk)(" 播放全部 "),p={class:"songsNumber"},d={class:"listRight"};function f(s,t,e,f,w,y){const _=i.J,g=n.J,v=l.X,W=a.Z;return(0,c.wg)(),(0,c.iD)("div",o,[(0,c.Wm)(v,{justify:"space-between",align:"center",class:"itemListTop"},{default:(0,c.w5)((()=>[(0,c.Wm)(g,{span:"12",class:"listLeft"},{default:(0,c.w5)((()=>[(0,c.Wm)(_,{name:"play-circle-o",size:"30"}),(0,c._)("span",r,[m,(0,c._)("span",p," (共"+(0,u.zw)(e.itemList.length)+"首) ",1)])])),_:1}),(0,c.Wm)(g,{span:"10"},{default:(0,c.w5)((()=>[(0,c._)("div",d,[(0,c.Wm)(_,{name:"plus",size:"20"}),(0,c._)("span",null,"收藏("+(0,u.zw)(e.subscribedCount)+")",1)])])),_:1})])),_:1}),(0,c.Wm)(W,{itemList:e.itemList},null,8,["itemList"])])}var w={name:"itemMusicList",props:["itemList","subscribedCount"],setup(){}},y=e(3744);const _=(0,y.Z)(w,[["render",f],["__scopeId","data-v-2103d102"]]);var g=_,v=e(8480);e(8093);const W=s=>((0,c.dD)("data-v-c91d8f1c"),s=s(),(0,c.Cn)(),s),h=W((()=>(0,c._)("span",null,"歌单",-1))),b={class:"imgBoxAndplayCount"},C={class:"playCount"},z=W((()=>(0,c._)("svg",{class:"icon","aria-hidden":"true"},[(0,c._)("use",{"xlink:href":"#icon-bofang1"})],-1))),L=["src"],k=["src"],I={class:"text"},M=W((()=>(0,c._)("span",null,"下载",-1))),j=W((()=>(0,c._)("span",null,"多选",-1)));function D(s,t,e,a,o,r){const m=v.E,p=i.J,d=n.J,f=l.X;return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(m,{src:e.playlist.coverImgUrl,alt:"",class:"bgImg"},null,8,["src"]),(0,c.Wm)(f,{justify:"space-between",align:"center",class:"itemMusicTop"},{default:(0,c.w5)((()=>[(0,c.Wm)(d,{span:"8",class:"itemLeft"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"arrow-left",onClick:t[0]||(t[0]=t=>s.$router.go(-1)),size:"25"}),h])),_:1}),(0,c.Wm)(d,{span:"8",class:"itemRight"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"search",class:"search",size:"25"}),(0,c.Wm)(p,{name:"wap-nav",class:"wap-nav",size:"25"})])),_:1})])),_:1}),(0,c.Wm)(f,{justify:"space-between",align:"center",class:"itemMusicCenter"},{default:(0,c.w5)((()=>[(0,c.Wm)(d,{span:"10",class:"imgBox"},{default:(0,c.w5)((()=>[(0,c._)("div",b,[(0,c._)("span",C,[z,(0,c.Uk)(" "+(0,u.zw)(a.changeCount(e.playlist.playCount)),1)]),(0,c._)("img",{src:e.playlist.coverImgUrl,alt:"",class:"coverImg"},null,8,L)])])),_:1}),(0,c.Wm)(d,{span:"14"},{default:(0,c.w5)((()=>[(0,c.Wm)(f,{justify:"center",class:"listInfo"},{default:(0,c.w5)((()=>[(0,c.Wm)(d,{span:"30",class:"title"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,u.zw)(e.playlist.name),1)])),_:1}),(0,c.Wm)(d,{span:"60",class:"creator"},{default:(0,c.w5)((()=>[(0,c._)("img",{src:e.playlist.creator.avatarUrl,alt:""},null,8,k),(0,c._)("span",null,(0,u.zw)(e.playlist.creator.nickname),1),(0,c.Wm)(p,{name:"arrow",size:"15"})])),_:1}),(0,c.Wm)(d,{span:"30",class:"description"},{default:(0,c.w5)((()=>[(0,c._)("div",I,(0,u.zw)(e.playlist.description||"编辑信息："),1),(0,c.Wm)(p,{name:"arrow",size:"15"})])),_:1})])),_:1})])),_:1})])),_:1}),(0,c.Wm)(f,{justify:"space-between",align:"center",class:"functionButtons"},{default:(0,c.w5)((()=>[(0,c.Wm)(d,{span:"6"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"chat-o",size:"30"}),(0,c._)("span",null,(0,u.zw)(e.playlist.commentCount),1)])),_:1}),(0,c.Wm)(d,{span:"6"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"share-o",size:"30"}),(0,c._)("span",null,(0,u.zw)(e.playlist.shareCount),1)])),_:1}),(0,c.Wm)(d,{span:"6"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"down",size:"30"}),M])),_:1}),(0,c.Wm)(d,{span:"6"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{name:"add-o",size:"30"}),j])),_:1})])),_:1})],64)}var x=e(7391),J={name:"itemMusicTop",props:["playlist"],setup(s){if(s.playlist.creator="")try{console.log("here"),s.playlist.creator=JSON.parse(sessionStorage.getItem("itemDetail")).playlist.creator}catch{console.log("here");let s=(0,x.tM)(playlistId);playlist=s.data.playlist}function t(s){return s>=1e8?(s/1e8).toFixed(1)+"亿":s>=1e4?(s/1e4).toFixed(1)+"万":s}return{changeCount:t}}};const S=(0,y.Z)(J,[["render",D],["__scopeId","data-v-c91d8f1c"]]);var U=S;function Z(s,t,e,a,l,n){const i=U,u=g;return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(i,{playlist:a.state.playlist},null,8,["playlist"]),(0,c.Wm)(u,{itemList:a.state.itemList,subscribedCount:a.state.playlist.subscribedCount},null,8,["itemList","subscribedCount"])],64)}var P=e(2201),q=e(2262),A={name:"itemMusic",setup(){const s=(0,q.qj)({playlist:{},itemList:{}});return(0,c.bv)((async()=>{let t=(0,P.yj)().query.id,e=await(0,x.tM)(t);console.log("歌单详情获取成功"),s.playlist=e.data.playlist;let a=await(0,x.mC)(t);console.log("歌单歌曲获取成功"),s.itemList=a.data.songs,sessionStorage.setItem("itemDetail",JSON.stringify(s))})),{state:s}},components:{itemMusicTop:U,itemMusicList:g}};const H=(0,y.Z)(A,[["render",Z]]);var T=H}}]);
//# sourceMappingURL=itemMusic.597cd041.js.map