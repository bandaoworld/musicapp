"use strict";(self["webpackChunkmusicapp"]=self["webpackChunkmusicapp"]||[]).push([[607],{6056:function(e,t,s){s.d(t,{Z:function(){return g}});var n=s(1046),a=(s(6186),s(6898)),i=(s(6870),s(9850)),l=(s(5124),s(6252)),o=s(3577);const r=e=>((0,l.dD)("data-v-6dcfb55b"),e=e(),(0,l.Cn)(),e),c={class:"itemList"},u={class:"leftSpan"},d={class:"songInfo"},y=r((()=>(0,l._)("div",{style:{height:"1.4rem"}},null,-1)));function m(e,t,s,r,m,p){const w=i.J,h=a.J,f=n.X;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.itemList,((e,t)=>((0,l.wg)(),(0,l.j4)(f,{class:"item",align:"center",justify:"space-between",key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{span:"16",class:"itemLeft",onClick:e=>p.playMusic(t)},{default:(0,l.w5)((()=>[(0,l._)("span",u,(0,o.zw)(t+1),1),(0,l._)("div",d,[(0,l._)("p",null,(0,o.zw)(e.name),1),(0,l._)("span",null,(0,o.zw)(r.showAuthor(e.ar)),1)])])),_:2},1032,["onClick"]),(0,l.Wm)(w,{span:"6",class:"itemRight"},{default:(0,l.w5)((()=>[0!=e.mv?((0,l.wg)(),(0,l.j4)(h,{key:0,name:"tv-o",class:"tv",size:"30",onClick:t=>r.mvClick(e.mv)},null,8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(h,{name:"wap-nav",class:"nav",size:"30"})])),_:2},1024)])),_:2},1024)))),128))]),y],64)}var p=s(2262),w=s(3907),h={name:"musicPlaylist",props:["itemList"],setup(){function e(e){const t=(0,p.qj)([]);for(let n=0;n<e.length;n++)t.push(e[n].name);let s=t.join(" / ");return s}function t(e){try{location.assign("https://music.163.com/#/mv?id="+e)}catch{console.log("MV打开失败")}}return{showAuthor:e,mvClick:t}},methods:{playMusic(e){console.log(e),this.updatePlaylist(this.itemList),this.updatePlaylistIndex(e)},...(0,w.OI)(["updatePlaylist","updatePlaylistIndex"])}},f=s(3744);const k=(0,f.Z)(h,[["render",m],["__scopeId","data-v-6dcfb55b"]]);var g=k},7076:function(e,t,s){s.r(t),s.d(t,{default:function(){return K}});var n=s(6056),a=s(1046),i=(s(6186),s(9850)),l=(s(5124),s(6898)),o=(s(6870),s(6252)),r=s(9963),c=s(3577);const u=e=>((0,o.dD)("data-v-238344a3"),e=e(),(0,o.Cn)(),e),d={class:"searchView"},y={class:"searchHistory"},m=u((()=>(0,o._)("span",{class:"searchSpan"},"搜索历史",-1))),p=u((()=>(0,o._)("span",{style:{"font-size":"0.1rem",visibility:"hidden"}},"你猜这里写了啥",-1))),w=["onClick"],h=u((()=>(0,o._)("span",{style:{"font-size":"0.1rem",visibility:"hidden",position:"absolute",right:"0.2rem"}},"占位而已",-1)));function f(e,t,s,u,f,k){const g=l.J,v=i.J,L=a.X,_=n.Z;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",d,[(0,o.Wm)(L,{justify:"space-between",align:"center",class:"searchTop"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{span:"2"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{name:"arrow-left",size:"0.6rem",color:"#383838",onClick:t[0]||(t[0]=t=>e.$router.go(-1))})])),_:1}),(0,o.Wm)(v,{span:"18"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{name:"search",size:"0.4rem",color:"#383838",class:"searchIcon"}),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"陈奕迅","onUpdate:modelValue":t[1]||(t[1]=t=>e.searchKey=t),onKeydown:t[2]||(t[2]=(0,r.D2)(((...e)=>u.enterKey&&u.enterKey(...e)),["enter"]))},null,544),[[r.nr,e.searchKey]])])),_:1}),(0,o.Wm)(v,{span:"2"},{default:(0,o.w5)((()=>[(0,o._)("p",{onClick:t[3]||(t[3]=(...e)=>u.enterKey&&u.enterKey(...e))},"搜索")])),_:1})])),_:1})]),(0,o._)("div",y,[m,p,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.keywordList,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:"spanKey",onClick:t=>u.searchHistory(e)},(0,c.zw)(e),9,w)))),128)),h,(0,o.Wm)(g,{name:"delete-o",size:"0.6rem",color:"#383838",class:"deleteIcon",onClick:u.deleteHistory},null,8,["onClick"]),(0,o.Wm)(_,{itemList:e.resultList},null,8,["itemList"])])],64)}var k=s(2262),g=s(2884),v={name:"searchView",setup(){const e=(0,k.qj)({searchKey:"",keywordList:[],resultList:[]});async function t(){if(""!==e.searchKey){e.keywordList.unshift(e.searchKey),e.keywordList=[...new Set(e.keywordList)],e.keywordList.length>10&&e.keywordList.splice(e.keywordList.length-1,1),localStorage.setItem("keywordList",JSON.stringify(e.keywordList));let t=await(0,g.xK)(e.searchKey);e.resultList=t.data.result.songs,e.searchKey="",console.log("搜索成功")}}async function s(t){let s=await(0,g.xK)(t);e.resultList=s.data.result.songs,console.log(e.resultList),console.log("搜索成功")}function n(t){localStorage.removeItem("keywordList"),e.keywordList=[]}return(0,o.bv)((()=>{e.keywordList=JSON.parse(localStorage.getItem("keywordList"))||[]})),{state:e,...(0,k.BK)(e),enterKey:t,deleteHistory:n,searchHistory:s}}},L=s(3744);const _=(0,L.Z)(v,[["render",f],["__scopeId","data-v-238344a3"]]);var K=_}}]);
//# sourceMappingURL=searchView.5fb0cd75.js.map